{
    "version": 3,
    "sources": [
        "../src/angular-flash.js"
    ],
    "names": [],
    "mappings": "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",
    "file": "angular-flash.js",
    "sourcesContent": [
        "/*! angular-flash - v2.2.1 - 2016-02-06\r\n * https://github.com/sachinchoolur/angular-flash\r\n * Copyright (c) 2016 Sachin; Licensed MIT */\r\n\r\nconst app = angular.module('ngFlash', []);\r\n\r\napp.run([\r\n    '$rootScope', function($rootScope) {\r\n        return $rootScope.flashes = [];\r\n    }\r\n]);\r\n\r\napp.directive('dynamic', [\r\n    '$compile', function($compile) {\r\n        return {\r\n            restrict: 'A',\r\n            replace: true,\r\n            link: function(scope, ele, attrs) {\r\n                return scope.$watch(attrs.dynamic, function(html) {\r\n                    ele.html(html);\r\n                    return $compile(ele.contents())(scope);\r\n                });\r\n            }\r\n        };\r\n    }\r\n]);\r\n\r\napp.directive('closeFlash', [\r\n    '$compile', '$rootScope', 'Flash', function($compile, $rootScope, Flash) {\r\n        return {\r\n            link: function(scope, ele, attrs) {\r\n                return ele.on('click', function() {\r\n                    let id = parseInt(attrs.closeFlash, 10);\r\n                    Flash.dismiss(id);\r\n                    $rootScope.$apply();\r\n                });\r\n            }\r\n        };\r\n    }\r\n]);\r\n\r\napp.directive('flashMessage', [\r\n    'Flash', function(Flash) {\r\n        return {\r\n            restrict: 'E',\r\n            scope: {\r\n                duration: '=',\r\n                showClose: '=',\r\n                onDismiss: '&'\r\n            },\r\n            template: '<div role=\"alert\" ng-repeat=\"flash in $root.flashes track by $index\" id=\"{{flash.config.id}}\" class=\"alert {{flash.config.class}} alert-{{flash.type}} alert-dismissible alertIn alertOut\"><div type=\"button\" class=\"close\" ng-show=\"flash.showClose\" close-flash=\"{{flash.id}}\"><span aria-hidden=\"true\">&times;</span><span class=\"sr-only\">Close</span></div> <span dynamic=\"flash.text\"></span> </div>',\r\n            link: function(scope, ele, attrs) {\r\n                Flash.setDefaultTimeout(scope.duration);\r\n                Flash.setShowClose(scope.showClose);\r\n                function onDismiss(flash) {\r\n                    if (typeof scope.onDismiss !== 'function') return;\r\n                    scope.onDismiss({flash: flash});\r\n                }\r\n\r\n                Flash.setOnDismiss(onDismiss);\r\n            }\r\n        };\r\n    }\r\n]);\r\n\r\napp.factory('Flash', [\r\n    '$rootScope', '$timeout', function($rootScope, $timeout) {\r\n        const dataFactory = {};\r\n        let counter = 0;\r\n        dataFactory.setDefaultTimeout = function(timeout) {\r\n            if (typeof timeout !== 'number') return;\r\n            dataFactory.defaultTimeout = timeout;\r\n        };\r\n\r\n        dataFactory.defaultShowClose = true;\r\n        dataFactory.setShowClose = function(value) {\r\n            if (typeof value !== 'boolean') return;\r\n            dataFactory.defaultShowClose = value;\r\n        };\r\n        dataFactory.setOnDismiss = function(callback) {\r\n            if (typeof callback !== 'function') return;\r\n            dataFactory.onDismiss = callback;\r\n        };\r\n        dataFactory.create = function(type, text, timeout, config, showClose) {\r\n            let $this, flash;\r\n            $this = this;\r\n            flash = {\r\n                type: type,\r\n                text: text,\r\n                config: config,\r\n                id: counter++\r\n            };\r\n            flash.showClose =\r\n                typeof showClose !== 'undefined' ?\r\n                    showClose : dataFactory.defaultShowClose;\r\n            if (dataFactory.defaultTimeout && typeof timeout === 'undefined') {\r\n                flash.timeout = dataFactory.defaultTimeout;\r\n            }\r\n            else if (timeout) {\r\n                flash.timeout = timeout;\r\n            }\r\n            $rootScope.flashes.push(flash);\r\n            if (flash.timeout) {\r\n                flash.timeoutObj = $timeout(function() {\r\n                    $this.dismiss(flash.id);\r\n                }, flash.timeout);\r\n            }\r\n            return flash.id;\r\n        };\r\n        dataFactory.pause = function(index) {\r\n            if ($rootScope.flashes[index].timeoutObj) {\r\n                $timeout.cancel($rootScope.flashes[index].timeoutObj);\r\n            }\r\n        };\r\n        dataFactory.dismiss = function(id) {\r\n            const index = findIndexById(id);\r\n            if (index !== -1) {\r\n                const flash = $rootScope.flashes[index];\r\n                dataFactory.pause(index);\r\n                $rootScope.flashes.splice(index, 1);\r\n                $rootScope.$digest();\r\n                if (typeof dataFactory.onDismiss === 'function') {\r\n                    dataFactory.onDismiss(flash);\r\n                }\r\n            }\r\n        };\r\n        dataFactory.clear = function() {\r\n            while ($rootScope.flashes.length > 0) {\r\n                dataFactory.dismiss($rootScope.flashes[0].id);\r\n            }\r\n        };\r\n        dataFactory.reset = dataFactory.clear;\r\n        function findIndexById(id) {\r\n            return $rootScope.flashes.findIndex((flash) => {\r\n                return flash.id === id;\r\n            });\r\n        }\r\n\r\n        return dataFactory;\r\n    }\r\n]);\r\n"
    ]
}
